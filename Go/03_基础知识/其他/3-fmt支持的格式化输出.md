# 1. 3-fmt支持的格式化输出

## 1.1. 支持的格式化操作符

fmt.Printf() 打印内容到控制台时，支持如下格式化形式：

格式|含义
---|---
`%%` | `%` 字面量，字面上的百分号标志（无操作数） 
`%b` | 二进制整数值(基数为2)，或者是(高级的)用科学计数法表示的指数为2的浮点数
`%c` | 字符型。可以把输入的数字按照 ASCII 码转换为对应的字符。
`%d` | 十进制数值(基数为10)
`%e` | 以科学计数法 e 表示的浮点数或者复数值，3.141593e+00 
`%E` | 以科学计数法 E 表示的浮点数或者复数值
`%f` | 以标准计数法表示的浮点数或者复数值，3.141593
`%g` | 以`%e`或者`%f`表示的浮点数或者复数，任何一个都以最为紧凑的方式输出，
`%G` | 以 `%E`或者`%f`表示的浮点数或者复数，任何一个都以最为紧凑的方式输出
`%o`| 以八进制表示的数字
`%p`| 以十六进制表示的值的地址，前缀为 0x, 字母使用小小的 a-f 表示
`%q` | 带双引号的字符串“abc” 或带单引号的字符 'c' 
`%s` | 字符串 
`%t`| 以 true 或者 false 输出布尔值
`%T`| 获取数据类型。
`%U`| 用 Unicode 表示法表示的整型码点。默认值为四个数字字符
`%v`| 使用默认格式输出的内置或自定义类型的值。或者时使用期类型的 String() 方式输出的自定义值。
`%x`| 以十六进制表示的整型值, a-f 使用小写
`%X`| 以十六进制表示的整型值， A-F 使用大写 


## 1.2. 示例1：

```go
package main
import "fmt"
import "os"
type point struct {
    x, y int
}
func main() {
//Go 为常规 Go 值的格式化设计提供了多种打印方式。例如，这里打印了 point 结构体的一个实例。
    p := point{1, 2}
    fmt.Printf("%v\n", p) // {1 2}
//如果值是一个结构体，%+v 的格式化输出内容将包括结构体的字段名。
    fmt.Printf("%+v\n", p) // {x:1 y:2}
//%#v 形式则输出这个值的 Go 语法表示。例如，值的运行源代码片段。
    fmt.Printf("%#v\n", p) // main.point{x:1, y:2}
//需要打印值的类型，使用 %T。
    fmt.Printf("%T\n", p) // main.point
//格式化布尔值是简单的。
    fmt.Printf("%t\n", true)
//格式化整形数有多种方式，使用 %d进行标准的十进制格式化。
    fmt.Printf("%d\n", 123)
//这个输出二进制表示形式。
    fmt.Printf("%b\n", 14)
//这个输出给定整数的对应字符。
    fmt.Printf("%c\n", 33)
// %x 提供十六进制编码。
    fmt.Printf("%x\n", 456)
//对于浮点型同样有很多的格式化选项。使用 %f 进行最基本的十进制格式化。
    fmt.Printf("%f\n", 78.9)
//%e 和 %E 将浮点型格式化为（稍微有一点不同的）科学技科学记数法表示形式。
    fmt.Printf("%e\n", 123400000.0)
    fmt.Printf("%E\n", 123400000.0)
//使用 %s 进行基本的字符串输出。
    fmt.Printf("%s\n", "\"string\"")
//像 Go 源代码中那样带有双引号的输出，使用 %q。
    fmt.Printf("%q\n", "\"string\"")
//和上面的整形数一样，%x 输出使用 base-16 编码的字符串，每个字节使用 2 个字符表示。
    fmt.Printf("%x\n", "hex this")
//要输出一个指针的值，使用 %p。
    fmt.Printf("%p\n", &p)
//当输出数字的时候，你将经常想要控制输出结果的宽度和精度，可以使用在 % 后面使用数字来控制输出宽度。默认结果使用右对齐并且通过空格来填充空白部分。
    fmt.Printf("|%6d|%6d|\n", 12, 345)
//你也可以指定浮点型的输出宽度，同时也可以通过 宽度.精度 的语法来指定输出的精度。
    fmt.Printf("|%6.2f|%6.2f|\n", 1.2, 3.45)
//要左对齐，使用 - 标志。
    fmt.Printf("|%-6.2f|%-6.2f|\n", 1.2, 3.45)
//你也许也想控制字符串输出时的宽度，特别是要确保他们在类表格输出时的对齐。这是基本的右对齐宽度表示。
    fmt.Printf("|%6s|%6s|\n", "foo", "b")
//要左对齐，和数字一样，使用 - 标志。
    fmt.Printf("|%-6s|%-6s|\n", "foo", "b")
//到目前为止，我们已经看过 Printf了，它通过 os.Stdout输出格式化的字符串。Sprintf 则格式化并返回一个字符串而不带任何输出。
    s := fmt.Sprintf("a %s", "string")
    fmt.Println(s)
//你可以使用 Fprintf 来格式化并输出到 io.Writers而不是 os.Stdout。
    fmt.Fprintf(os.Stderr, "an %s\n", "error")
}
```

## 1.3. 示例2

摘自 《Go 语言实战》 3.1 整数 一节

```go
o := 0666
fmt.Printf("%d %[1]o %#[1]o\n", o) // "438 666 0666"
x := int64(0xdeadbeef)
fmt.Printf("%d %[1]x %#[1]x %#[1]X\n", x) // 3735928559 deadbeef 0xdeadbeef 0XDEADBEEF
```

请注意上述示例中 fmt 的两个使用技巧。**通常 Printf 格式化字符串包含多个 `%` 参数时将会包含对应相同数量 的额外操作数**，但是

* `%` 之后的 `[1]` 副词告诉 Printf 函数再次使用第一个操作数。
*  `%`后的 `#` 副词告诉 Printf 在用 `%o`、`%x`或`%X`输出时生成0、0x 或 0X前缀。

字符使用 `%c` 参数打印，或者是用 `%q` 参数打印带单引号的字符:

```go
ascii := 'a'
unicode := '国'
newline := '\n'
fmt.Printf("%d %[1]c %[1]q\n", ascii) // "97 a 'a'" 
fmt.Printf("%d %[1]c %[1]q\n", unicode) // "22269 国 '国'" 
fmt.Printf("%d %[1]q\n", newline) // "10 '\n'"
```

```go
for x := 0; x < 8; x++ {
    fmt.Printf("x = %d e^x = %8.3f\n", x, math.Exp(float64(x)))
}
```

上面代码打印e的幂，打印精度是小数点后三个小数精度和8个字符宽度

```go
s := "プログラム"
fmt.Printf("% x\n", s) // "e3 83 97 e3 83 ad e3 82 b0 e3 83 a9 e3 83 a0" r := []rune(s)
fmt.Printf("%x\n", r) // "[30d7 30ed 30b0 30e9 30e0]"
```

上面代码中，在第一个Printf中的 % x 参数用于在每个十六进制数字前插入一个空格。